# ========================
# Application
# ========================
APP_NAME=Jumla-bot Backend
VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
API_V1_PREFIX=/api/v1

# ========================
# Server
# ========================
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ========================
# Database
# ========================
DATABASE_URL="postgresql+asyncpg://jumla-admin:npg_eOwHupM8IfN5@ep-quiet-bread-ahhjywk9-pooler.c-3.us-east-1.aws.neon.tech/Jumla-Main-db?ssl=true" 
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# ========================
# Redis / Celery
# ========================
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ========================
# JWT Authentication
# ========================
JWT_SECRET_KEY=super-secret-key
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# ========================
# CORS
# ========================
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# ========================
# S3 / MinIO
# ========================
S3_ENDPOINT_URL=http://minio:9000
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_BUCKET_NAME=jumla-bot
S3_REGION=us-east-1


# ========================
# Twilio
# ========================
TWILIO_ACCOUNT_SID=ACxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxx
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WEBHOOK_SECRET=

# ========================
# SendGrid
# ========================
SENDGRID_API_KEY=SG.xxxxxxxx
SENDGRID_FROM_EMAIL=no-reply@jumla.com
SENDGRID_FROM_NAME=Jumla-bot

# ========================
# External APIs
# ========================
ATTOM_API_KEY=
PROPSTREAM_API_KEY=
REALTOR_API_KEY=

# ========================
# Business Rules
# ========================
MIN_OFFER_AMOUNT=10000
MAX_OFFER_AMOUNT=5000000
OFFER_MARGIN_PERCENT=0.70
HOT_LEAD_SCORE_THRESHOLD=80
WARM_LEAD_SCORE_THRESHOLD=50

# ========================
# Rate Limiting
# ========================
RATE_LIMIT_PER_MINUTE=60

# ========================
# Monitoring
# ========================
SENTRY_DSN=
LOG_LEVEL=INFO


# ============================================================================
# LLM / AI CONFIGURATION (ADD THESE)
# ============================================================================

# ========================
# LLM Providers
# ========================
LLM_PRIMARY_PROVIDER=gemini
LLM_FALLBACK_PROVIDER=gemini

# Provider Priority (comma-separated, tried in order)
LLM_PROVIDER_PRIORITY=openai,anthropic,gemini

# API Keys
OPENAI_API_KEY=sk-5678mnop5678mnop5678mnop5678mnop5678mnop
ANTHROPIC_API_KEY=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
GEMINI_API_KEY=AIzaSyAU34S547ftH1qmZPWTpmzm2oRLg3ZfIvo

# Model Selection
LLM_MODEL_OPENAI=gpt-4o-mini
LLM_MODEL_ANTHROPIC=claude-3-5-sonnet-20241022
LLM_MODEL_GEMINI=gemini-2.5-pro

# LLM Behavior
LLM_TIMEOUT_SECONDS=30
LLM_MAX_RETRIES=3
LLM_RATE_LIMIT_RPM=60
LLM_CACHE_TTL_SECONDS=300
LLM_MAX_TOKENS=2000
LLM_TEMPERATURE=0.1

# Circuit Breaker
LLM_CIRCUIT_BREAKER_THRESHOLD=5
LLM_CIRCUIT_BREAKER_TIMEOUT=60

# Feature Flags
ENABLE_AI_EXTRACTION=true
ENABLE_AI_RESPONSE=true
ENABLE_AI_SUMMARIZATION=true
ENABLE_LLM_CACHING=false

# Security
REDACT_PII_IN_LOGS=true

# Rate Limiting (if not already present)
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

DEFAULT_ORGANIZATION_ID=e753dff8-0384-433d-a329-48370b85c54f	